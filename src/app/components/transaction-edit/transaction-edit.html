<h2>Editar Transação</h2>

<div *ngIf="isLoading">Carregando...</div>
<div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

<form *ngIf="!isLoading" (ngSubmit)="saveTransaction()">
  
  <!-- Descrição -->
  <div>
    <label for="description">Descrição:</label>
    <input type="text" id="description" [(ngModel)]="transaction.transactionDescription" name="description" required />
  </div>

  <!-- Data -->
  <div>
    <label for="date">Data:</label>
    <input type="date" id="date" [(ngModel)]="transaction.transactionDate" name="date" required />
  </div>

  <!-- Valor -->
  <div>
    <label for="value">Valor:</label>
    <input type="number" id="value" [(ngModel)]="transaction.transactionValue" name="value" step="0.01" required />
  </div>

  <!-- Categoria -->
  <div>
    <label for="category">Categoria:</label>
    <select id="category" [(ngModel)]="transaction.transactionIdCategory" name="categoryId" required>
      <option *ngFor="let cat of categories" [value]="cat.id">{{ cat.categoryName }}</option>
    </select>
  </div>

  <!-- Método de Pagamento -->
  <div>
    <label for="payment">Método de Pagamento:</label>
    <select id="payment" [(ngModel)]="transaction.transactionIdPaymentMethod" name="paymentId" required>
      <option *ngFor="let pm of paymentMethods" [value]="pm.id">{{ pm.paymentMethodl }}</option>
    </select>
  </div>

  <!-- Botão Salvar -->
  <div>
    <button type="submit">Salvar</button>
    <button type="button" (click)="cancel()">Cancelar</button>
  </div>

</form>

